{{#is "post"}}
<div class="new-list" style="max-width:600px;">
    {{#if feature_image}}
            {{#unless no_image}}
                <figure class="single-media kg-width-{{width}}">
                    <div class="u-placeholder horizontal">
                        <img class="lazyload u-object-fit" data-srcset="{{> srcset}}"
                            data-sizes="auto" src="{{img_url feature_image size="l"}}"
                            srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                            alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}">
                    </div>

                    {{#if feature_image_caption}}
                        <figcaption>{{feature_image_caption}}</figcaption>
                    {{/if}}
                </figure>
            {{/unless}}
        {{/if}}
    <a href="{{url}}">
        <h1>{{title}}</h1>
    </a>
    <div>
        <p style="border-top:1px dotted black; padding-top:10px; font-size:0.8em; color:grey; font-family:'consolas', monospace;">
            Published on <time datetime="{{date format="YYYY-MM-DD"}}">{{date published_at}}</time> | 
            <span class="single-meta-item single-meta-length">{{reading_time}} | <span class="word-count"></span></span> | 
            {{#primary_tag}}
                <a class="post-tag post-tag-{{slug}}" href="{{url}}">
                    {{name}}
                </a>
            {{/primary_tag}}
        </p>
    </div>
    {{#if custom_excerpt}}
        <div style="border-bottom:1px dotted black; padding:10px 0px; margin: 10px 0px; max-width:600px;">
            <p style="font-size:0.8em; color:grey; font-family:'consolas', monospace;"><strong>TLDR:</strong> {{custom_excerpt}}</p>
        </div>
    {{/if}}
    <div class="single-content gh-content" style="margin-top:15px; max-width:600px; font-family: 'ConfigRounded', -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, Ubuntu, roboto, noto, segoe ui, arial, sans-serif;">
        {{content}}

<div style="margin:50px 0px; border-bottom:1px black dotted;">
</div>

        {{#get "pages" limit="1" filter="tag:[hash-aboutme]" include="content"}}
            {{#foreach pages}}
                <p>
                    {{content}}
                </p>
            {{/foreach}}
        {{/get}}
    </div>
     </div>

    {{/is}}
</article>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const content = document.querySelector(".single-content"); // or whatever your main content class is
    const text = content?.textContent || '';
    const wordCount = text.trim().split(/\s+/).length;
    document.querySelector(".word-count").textContent = `${wordCount.toLocaleString()} words`;
  });
</script>